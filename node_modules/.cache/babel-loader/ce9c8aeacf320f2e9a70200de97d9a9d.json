{"ast":null,"code":"var _jsxFileName = \"/Users/zim/WORK/GIT-REPOS/JAVASCRIPT/REACT/assets/SANDPIT/CRA/omni/src/components/TodoList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { API_URL } from '../config';\nimport TodoForm from \"./TodoForm\";\nimport Todo from './Todo';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { Grid, Container, Box, Button, Modal, Backdrop, Fade, Typography } from '@material-ui/core'; // cloud name dg8ckygz0\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n    minWidth: 600,\n    // margin: '0px!important',\n    border: '2px solid red'\n  },\n  listItemText: {\n    border: '2px solid red',\n    alignItems: 'left',\n    justifyContent: 'left'\n  },\n  todolist: {\n    width: '100%',\n    // maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n    minWidth: 600\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    minWidth: '60%',\n    outline: 'none'\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  hide: {\n    display: 'none'\n  },\n  boxContainer: {\n    width: '100%',\n    // maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n    margin: '0px!important'\n  },\n  box: {\n    width: '100%',\n    // maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  },\n  grid: {}\n}));\n\nfunction TodoList() {\n  console.log('function TodoList() {');\n  const classes = useStyles(); // useState hooks\n\n  const [checked, setChecked] = React.useState([1]);\n  const [todos, setTodos] = useState([]);\n  const [todosEmptyBool, setTodosEmptyBool] = useState(true);\n  const [todosSelected, setTodosSelected] = useState([]); //Track is edit clicked or not\n\n  const [editId, setEdit] = useState(null);\n  const [inputValue, setInputValue] = useState(\"\"); // Set localStorage on initial mount\n\n  useEffect(() => {\n    // // console.log(\"use effect one\");\n    const todos = JSON.parse(localStorage.getItem('todos-omni-dev1'));\n\n    if (todos) {\n      setTodos(todos); // setTodosEmptyBool(true);\n    }\n  }, []); // update localStorage on data change\n\n  useEffect(() => {\n    console.log(\"use effect two\"); // // console.log(todos.length);\n\n    localStorage.setItem('todos-omni-dev1', JSON.stringify(todos));\n\n    if (todos.length == 0) {\n      console.log('if (todos.length == 0) {');\n      setTodosEmptyBool(false);\n    }\n  }, [todos]); // // console.log(todos);\n\n  const [dev, setDev] = React.useState(true);\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    // // console.log(\"const handleOpen = () => {\");\n    // // console.log(editId);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    // // console.log(\"const handleClose = () => {\");\n    setOpen(false);\n    setEdit(null);\n  }; // clsx experiment button\n\n\n  const [openClsx, setOpenClsx] = React.useState(false);\n\n  const handleOpenClsx = () => {\n    // // console.log(\"const handleOpenClsx = () => {\");\n    setOpenClsx(!openClsx);\n  };\n\n  const handleToggle = value => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    completeTodo(value);\n    setChecked(newChecked);\n  };\n\n  const handleEditChange = (id, text) => {\n    // console.log(\"handle edit channngge\");\n    setEdit(id);\n    setInputValue(text);\n    handleOpen();\n  };\n\n  const addTodo = todo => {\n    if (!todo.title || /^\\s*$/.test(todo.title)) {\n      return;\n    } // // console.log(todos.length);\n\n\n    if (todos.length == 0) {\n      setTodosEmptyBool(!todosEmptyBool);\n    }\n\n    const newTodos = [todo, ...todos];\n    setTodos(newTodos);\n  };\n\n  const removeTodo = id => {\n    const removedArr = [...todos].filter(todoId => todoId.id !== id);\n    setTodos(removedArr);\n  };\n\n  const completeTodo = id => {\n    // // console.log(\"completeTodo\");\n    let updatedTodos = todos.map(todo => {\n      if (todo.id === id) {\n        todo.complete = !todo.complete;\n      }\n\n      return todo;\n    });\n    setTodos(updatedTodos);\n  };\n\n  const editTodo = (id, title, description, dueDate, complete, imagePath) => {\n    // console.log(\"const editTodo = (id, title, description, dueDate, complete) => {\");\n    let editTodos = todos.map(todo => {\n      if (todo.id === id) {\n        todo.title = title;\n        todo.description = description;\n        todo.dueDate = dueDate;\n        todo.complete = complete;\n        todo.imagePath = imagePath;\n      }\n\n      return todo;\n    });\n    setTodos(editTodos);\n    setEdit(false);\n  };\n\n  const {\n    foo,\n    bar,\n    baz\n  } = classes;\n  const style = clsx(foo, bar, baz);\n  const [errorFetch, setErrorFetch] = useState(false);\n  const formData = new FormData();\n  fetch(`${API_URL}/image-upload`, {\n    method: 'POST',\n    body: formData\n  }).then(res => {\n    // console.log('objec.then(res => {');\n    // console.log(res.json);\n    if (!res.ok) {\n      throw res;\n    } //// console.log(res.json);\n\n\n    return res.json();\n  }).then(inputImages => {// console.log('.then(inputImages => {');\n    // console.log(inputImages);\n    // console.log(inputImages[0].secure_url);\n    // setInputUploading(false);\n    // setInputImages(inputImages);\n    // setImagePath(inputImages[0].secure_url);\n  }).catch(err => {\n    // console.log('.catch(err => {');\n    console.dir(err.message);\n    setErrorFetch(true); // err.json().then(e => {\n    //     // this.toast(e.message, 'custom', 2000, toastColor);\n    //     // setInputUploading(true);\n    //     // this.setState({ uploading: false })\n    // })\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    \"aria-labelledby\": \"transition-modal-title\",\n    \"aria-describedby\": \"transition-modal-description\",\n    className: classes.modal,\n    open: open,\n    onClose: handleClose,\n    closeAfterTransition: true,\n    BackdropComponent: Backdrop,\n    BackdropProps: {\n      timeout: 500\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Fade, {\n    in: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TodoForm, {\n    onClose: handleClose,\n    onSubmit: addTodo,\n    todos: todos,\n    editId: editId,\n    editTodo: editTodo,\n    setEdit: setEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    className: classes.boxContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.grid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 25\n    }\n  }, \"Todo App\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    className: clsx(!errorFetch && classes.hide),\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 25\n    }\n  }, \"For this Todo List App to work you have to install and then run the dev server that can be found in the root of project.\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    className: clsx(!errorFetch && classes.hide),\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 25\n    }\n  }, \"This is because my solution involved the idea that the easiest way to get started with storing images would be to have a third party host the images and I just use a string url reference to that image to display it in the application. I went down the path of hosting uploaded images to cloudinary.com a free hosting service that I discovered.\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    className: clsx(!errorFetch && classes.hide),\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 25\n    }\n  }, \"Cloudinary seemed to be a good service that provides a certain amount of storage and transfer on their free plan. So I signed up and got necessary api keys that have been put into a .env file on the dev server.\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    className: clsx(!errorFetch && classes.hide),\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 25\n    }\n  }, \"The Instructions have been included in the README.md file that you will have seen on gitHub. But because you are seeing this message it means the dev server has not started succesfully for some reason. So I can help by pointing you back to the README.md file on gitHub which explains the process of getting the dev server running succesfully.\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    className: clsx(!errorFetch && classes.hide),\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 25\n    }\n  }, \"I'm sure there is a simpler way to implement the this functionality, that does not involve having to set up a server in this way? But once I had started I did continue with this solution. I hope that is ok.\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    className: clsx(!errorFetch && classes.hide),\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 25\n    }\n  }, \"Once the dev server is running you will not see this message again and the 'CREATE TODO' button below will activate. Full instructions can be found on the README.md file in github repo.\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 25\n    }\n  }, \"Click the 'CREATE TODO' button below to add todo item.\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleOpen,\n    disabled: errorFetch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 25\n    }\n  }, \"Create Todo\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 17\n    }\n  }, todos.map((todo, index) => {\n    return /*#__PURE__*/React.createElement(Todo, {\n      key: index,\n      id: todo.id,\n      title: todo.title,\n      description: todo.description,\n      dueDate: todo.dueDate,\n      complete: todo.complete,\n      imagePath: todo.imagePath,\n      handleToggle: e => handleToggle(e),\n      checked: checked,\n      todos: todosSelected,\n      setTodos: setTodos,\n      completeTodo: completeTodo,\n      removeTodo: removeTodo,\n      editTodo: editTodo,\n      handleEditChange: handleEditChange,\n      editId: editId,\n      inputValue: inputValue,\n      setInputValue: setInputValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 29\n      }\n    });\n  }))));\n}\n\nexport default TodoList;","map":{"version":3,"sources":["/Users/zim/WORK/GIT-REPOS/JAVASCRIPT/REACT/assets/SANDPIT/CRA/omni/src/components/TodoList.js"],"names":["React","useState","useEffect","API_URL","TodoForm","Todo","makeStyles","clsx","Grid","Container","Box","Button","Modal","Backdrop","Fade","Typography","useStyles","theme","root","width","backgroundColor","palette","background","paper","minWidth","border","listItemText","alignItems","justifyContent","todolist","modal","display","outline","menuButton","marginRight","spacing","hide","boxContainer","margin","box","grid","TodoList","console","log","classes","checked","setChecked","todos","setTodos","todosEmptyBool","setTodosEmptyBool","todosSelected","setTodosSelected","editId","setEdit","inputValue","setInputValue","JSON","parse","localStorage","getItem","setItem","stringify","length","dev","setDev","open","setOpen","handleOpen","handleClose","openClsx","setOpenClsx","handleOpenClsx","handleToggle","value","currentIndex","indexOf","newChecked","push","splice","completeTodo","handleEditChange","id","text","addTodo","todo","title","test","newTodos","removeTodo","removedArr","filter","todoId","updatedTodos","map","complete","editTodo","description","dueDate","imagePath","editTodos","foo","bar","baz","style","errorFetch","setErrorFetch","formData","FormData","fetch","method","body","then","res","ok","json","inputImages","catch","err","dir","message","timeout","index","e"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { API_URL } from '../config';\nimport TodoForm from \"./TodoForm\";\nimport Todo from './Todo';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { Grid, Container, Box, Button, Modal, Backdrop, Fade, Typography } from '@material-ui/core';\n\n// cloud name dg8ckygz0\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        backgroundColor: theme.palette.background.paper,\n        minWidth: 600,\n        // margin: '0px!important',\n        border: '2px solid red',\n    },\n    listItemText: {\n        border: '2px solid red',\n        alignItems: 'left',\n        justifyContent: 'left',\n    },\n    todolist: {\n        width: '100%',\n        // maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n        minWidth: 600,\n    },\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minWidth: '60%',\n        outline: 'none',\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    hide: {\n        display: 'none',\n    },\n    boxContainer: {\n        width: '100%',\n        // maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n        margin: '0px!important',\n    },\n    box: {\n        width: '100%',\n        // maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    grid: {\n\n    },\n}));\n\nfunction TodoList() {\n    console.log('function TodoList() {');\n\n    const classes = useStyles();\n\n    // useState hooks\n    const [checked, setChecked] = React.useState([1]);\n    const [todos, setTodos] = useState([]);\n    const [todosEmptyBool, setTodosEmptyBool] = useState(true);\n\n    const [todosSelected, setTodosSelected] = useState([]);\n    //Track is edit clicked or not\n    const [editId, setEdit] = useState(null);\n\n    const [inputValue, setInputValue] = useState(\"\");\n\n    // Set localStorage on initial mount\n    useEffect(() => {\n        // // console.log(\"use effect one\");\n\n        const todos = JSON.parse(localStorage.getItem('todos-omni-dev1'));\n        if (todos) {\n            setTodos(todos);\n            // setTodosEmptyBool(true);\n        }\n        \n    }, []);\n\n    // update localStorage on data change\n    useEffect(() => {\n        console.log(\"use effect two\");\n        // // console.log(todos.length);\n\n        localStorage.setItem('todos-omni-dev1', JSON.stringify(todos));\n\n        if (todos.length == 0) {\n            console.log('if (todos.length == 0) {');\n            setTodosEmptyBool(false);\n        }  \n\n    }, [todos]);\n\n    // // console.log(todos);\n\n    const [dev, setDev] = React.useState(true);\n    const [open, setOpen] = React.useState(false);\n\n    const handleOpen = () => {\n        // // console.log(\"const handleOpen = () => {\");\n\n        // // console.log(editId);\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        // // console.log(\"const handleClose = () => {\");\n        setOpen(false);\n        setEdit(null);\n    };\n\n    // clsx experiment button\n    const [openClsx, setOpenClsx] = React.useState(false);\n\n    const handleOpenClsx = () => {\n        // // console.log(\"const handleOpenClsx = () => {\");\n        setOpenClsx(!openClsx);\n    };\n\n    const handleToggle = (value) => () => {\n\n        const currentIndex = checked.indexOf(value);\n        const newChecked = [...checked];\n\n        if (currentIndex === -1) {\n            newChecked.push(value);\n        } else {\n            newChecked.splice(currentIndex, 1);\n        }\n\n        completeTodo(value);\n        setChecked(newChecked);\n    };\n\n    const handleEditChange = (id, text) => {\n        // console.log(\"handle edit channngge\");\n\n        setEdit(id);\n        setInputValue(text);\n        handleOpen();\n    };\n\n    const addTodo = (todo) => {\n        if (!todo.title || /^\\s*$/.test(todo.title)) {\n            return;\n        }\n\n        // // console.log(todos.length);\n        if (todos.length == 0) {\n            setTodosEmptyBool(!todosEmptyBool);\n        }\n\n        const newTodos = [todo, ...todos];\n        setTodos(newTodos);\n\n    };\n\n    const removeTodo = (id) => {\n        const removedArr = [...todos].filter((todoId) => todoId.id !== id);\n\n        setTodos(removedArr);\n    };\n\n    const completeTodo = (id) => {\n        // // console.log(\"completeTodo\");\n        let updatedTodos = todos.map((todo) => {\n            if (todo.id === id) {\n                todo.complete = !todo.complete;\n            }\n            return todo;\n        });\n        setTodos(updatedTodos);\n    };\n\n    const editTodo = (id, title, description, dueDate, complete, imagePath) => {\n        // console.log(\"const editTodo = (id, title, description, dueDate, complete) => {\");\n\n        let editTodos = todos.map((todo) => {\n            if (todo.id === id) {\n                todo.title = title;\n                todo.description = description;\n                todo.dueDate = dueDate;\n                todo.complete = complete;\n                todo.imagePath = imagePath;\n            }\n            return todo;\n        });\n        setTodos(editTodos);\n        setEdit(false);\n    };\n\n\n    const { foo, bar, baz } = classes;\n    const style = clsx(foo, bar, baz);\n\n    const [errorFetch, setErrorFetch] = useState(false);\n\n    const formData = new FormData();\n\n    fetch(`${API_URL}/image-upload`, {\n        method: 'POST',\n        body: formData\n    })\n        .then(res => {\n            // console.log('objec.then(res => {');\n            // console.log(res.json);\n\n            if (!res.ok) {\n                throw res\n            }\n            //// console.log(res.json);\n            return res.json()\n        })\n        .then(inputImages => {\n            // console.log('.then(inputImages => {');\n            // console.log(inputImages);\n            // console.log(inputImages[0].secure_url);\n\n            // setInputUploading(false);\n            // setInputImages(inputImages);\n            // setImagePath(inputImages[0].secure_url);\n\n\n        })\n        .catch(err => {\n            // console.log('.catch(err => {');\n            console.dir(err.message);\n\n            setErrorFetch(true);\n\n\n            // err.json().then(e => {\n            //     // this.toast(e.message, 'custom', 2000, toastColor);\n            //     // setInputUploading(true);\n            //     // this.setState({ uploading: false })\n            // })\n        })\n\n    return (\n        <React.Fragment>\n\n\n\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                className={classes.modal}\n                open={open}\n                onClose={handleClose}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={open}>\n                    <div className={classes.modal}>\n                        <TodoForm onClose={handleClose} onSubmit={addTodo} todos={todos} editId={editId} editTodo={editTodo} setEdit={setEdit} />\n                    </div>\n                </Fade>\n            </Modal>\n\n            <Grid container spacing={3} className={classes.boxContainer}>\n\n                <Grid item xs={12} className={classes.grid}>\n                    <Box className={classes.box}>\n                        <Typography variant=\"h3\">Todo App</Typography>\n                        <Typography variant=\"h5\" className={clsx(!errorFetch && classes.hide)} gutterBottom>For this Todo List App to work you have to install and then run the dev server that can be found in the root of project.\n                        </Typography>\n                        <Typography variant=\"h5\" className={clsx(!errorFetch && classes.hide)} gutterBottom>This is because my solution involved the idea that the easiest way to get started with storing images would be to have a third party host the images and I just use a string url reference to that image to display it in the application. I went down the path of hosting uploaded images to cloudinary.com a free hosting service that I discovered.\n                        </Typography>\n                        <Typography variant=\"h5\" className={clsx(!errorFetch && classes.hide)} gutterBottom>Cloudinary seemed to be a good service that provides a certain amount of storage and transfer on their free plan. So I signed up and got necessary api keys that have been put into a .env file on the dev server.\n                        </Typography>\n                        <Typography variant=\"h5\" className={clsx(!errorFetch && classes.hide)} gutterBottom>\n                        The Instructions have been included in the README.md file that you will have seen on gitHub. But because you are seeing this message it means the dev server has not started succesfully for some reason. So I can help by pointing you back to the README.md file on gitHub which explains the process of getting the dev server running succesfully.\n                        </Typography>\n                        <Typography variant=\"h5\" className={clsx(!errorFetch && classes.hide)} gutterBottom>\n                            I'm sure there is a simpler way to implement the this functionality, that does not involve having to set up a server in this way? But once I had started I did continue with this solution. I hope that is ok.\n                        </Typography>\n                        <Typography variant=\"h5\" className={clsx(!errorFetch && classes.hide)} gutterBottom>Once the dev server is running you will not see this message again and the 'CREATE TODO' button below will activate. Full instructions can be found on the README.md file in github repo.\n                        </Typography>\n                        \n                        <Typography variant=\"h5\" gutterBottom>\n                            Click the 'CREATE TODO' button below to add todo item.\n                        </Typography>\n                    </Box>\n                </Grid>\n\n\n                <Grid item xs={12}>\n                    <Box className={classes.box}>\n\n                        <Button variant=\"contained\" color=\"primary\" onClick={handleOpen} disabled={errorFetch}>\n                            Create Todo\n                        </Button>\n\n                    </Box>\n                </Grid>\n\n                <Grid item xs={12}>\n\n\n                    {todos.map((todo, index) => {\n\n                        return (\n\n                            <Todo\n                                key={index}\n                                id={todo.id}\n                                title={todo.title}\n                                description={todo.description}\n                                dueDate={todo.dueDate}\n                                complete={todo.complete}\n                                imagePath={todo.imagePath}\n                                handleToggle={(e) => handleToggle(e)}\n                                checked={checked}\n                                todos={todosSelected}\n                                setTodos={setTodos}\n                                completeTodo={completeTodo}\n                                removeTodo={removeTodo}\n                                editTodo={editTodo}\n                                handleEditChange={handleEditChange}\n                                editId={editId}\n                                inputValue={inputValue}\n                                setInputValue={setInputValue}\n                            />\n\n                        );\n                    })}\n                </Grid>\n\n            </Grid>\n\n        </React.Fragment>\n\n    );\n}\n\nexport default TodoList;"]},"metadata":{},"sourceType":"module"}